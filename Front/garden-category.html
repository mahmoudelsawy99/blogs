<!DOCTYPE html>
<html lang="en">

<!-- Basic -->
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<!-- Mobile Metas -->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<!-- Site Metas -->
<title>Forest Time - Stylish Magazine Blog Template</title>
<meta name="keywords" content="">
<meta name="description" content="">
<meta name="author" content="">

<!-- Site Icons -->
<link rel="shortcut icon" href="../uploads/images/favicon.ico" type="image/x-icon" />
<link rel="apple-touch-icon" href="../uploads/images/apple-touch-icon.png">

<!-- Design fonts -->
<link href="https://fonts.googleapis.com/css?family=Droid+Sans:400,700" rel="stylesheet">

<!-- Bootstrap core CSS -->
<link href="/bootstrap.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<!-- FontAwesome Icons core CSS -->
<link href="/font-awesome.min.css" rel="stylesheet">

<!-- Custom styles for this template -->
<link href="/style.css" rel="stylesheet">

<!-- Responsive styles for this template -->
<link href="/responsive.css" rel="stylesheet">

<!-- Colors for this template -->
<link href="/colors.css" rel="stylesheet">

<!-- Version Garden CSS for this template -->
<link href="/version/garden.css" rel="stylesheet">

<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <div id="wrapper">
        <div class="collapse top-search" id="collapseExample">
            <div class="card card-block">
                <div class="newsletter-widget text-center">
                    <form class="form-inline" action="search" onsubmit="search(event)">

                        <input type="text" id="seach" class="form-control" placeholder="What you are looking for?">
                        <button type="submit" class="btn btn-primary"><i class="fa fa-search"></i></button>
                    </form>
                </div><!-- end newsletter -->
            </div>
        </div><!-- end top-search -->

        <div class="topbar-section">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-4 col-md-6 col-sm-6 hidden-xs-down">
                        <div class="topsocial">
                            <a href="#" data-toggle="tooltip" data-placement="bottom" title="Facebook"><i
                                    class="fa fa-facebook"></i></a>
                            <a href="#" data-toggle="tooltip" data-placement="bottom" title="Youtube"><i
                                    class="fa fa-youtube"></i></a>
                            <a href="#" data-toggle="tooltip" data-placement="bottom" title="Pinterest"><i
                                    class="fa fa-pinterest"></i></a>
                            <a href="#" data-toggle="tooltip" data-placement="bottom" title="Twitter"><i
                                    class="fa fa-twitter"></i></a>
                            <a href="#" data-toggle="tooltip" data-placement="bottom" title="Flickr"><i
                                    class="fa fa-flickr"></i></a>
                            <a href="#" data-toggle="tooltip" data-placement="bottom" title="Instagram"><i
                                    class="fa fa-instagram"></i></a>
                            <a href="#" data-toggle="tooltip" data-placement="bottom" title="Google+"><i
                                    class="fa fa-google-plus"></i></a>
                        </div><!-- end social -->
                    </div><!-- end col -->

                    <div class="col-lg-4 hidden-md-down">
                    </div><!-- end col -->

                    <div class="col-lg-4 col-md-6 col-sm-6 col-xs-12">
                        <div class="topsearch text-right">
                            <a data-toggle="collapse" href="#collapseExample" aria-expanded="false"
                                aria-controls="collapseExample"><i class="fa fa-search"></i> Search</a>
                        </div><!-- end search -->
                    </div><!-- end col -->
                </div><!-- end row -->
            </div><!-- end header-logo -->
        </div><!-- end topbar -->

        <div class="header-section">
            <div class="container">
                <div class="row">
                    <div class="col-md-12">
                        <div class="logo">
                            <a href="garden-index.html"><img src="../uploads/images/version/garden-logo.png" alt=""></a>
                        </div><!-- end logo -->
                    </div>
                </div><!-- end row -->
            </div><!-- end header-logo -->
        </div><!-- end header -->

        <header class="header">
            <div class="container">
                <nav class="navbar navbar-inverse navbar-toggleable-md">
                    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#Forest Timemenu"
                        aria-controls="Forest Timemenu" aria-expanded="false" aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-md-center" id="Forest Timemenu">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link color-green-hover" href="/blog/index">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link color-green-hover" href="/author/authorblog">author profile</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link color-green-hover" href="garden-category.html">Outdoor Living</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link color-green-hover" href="garden-category.html">Indoor Living</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link color-green-hover" href="garden-category.html">Shopping Guides</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link color-green-hover" href="garden-contact.html">Contact</a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div><!-- end container -->
        </header><!-- end header -->

        <div class="page-title wb">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
                        <h2><i class="fa fa-leaf bg-green"></i> Category by: Gardening</h2>
                    </div><!-- end col -->
                    <div class="col-lg-4 col-md-4 col-sm-12 hidden-xs-down hidden-sm-down">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="#">Home</a></li>
                            <li class="breadcrumb-item"><a href="#">Blog</a></li>
                            <li class="breadcrumb-item active">Gardening</li>
                        </ol>
                    </div><!-- end col -->
                </div><!-- end row -->
            </div><!-- end container -->
        </div><!-- end page-title -->

        <section class="section wb">
            <div class="container">
                <div class="row">
                    <div class="col-lg-9 col-md-12 col-sm-12 col-xs-12">
                        <div class="page-wrapper">
                            <div id="blogs" class="blog-list clearfix">
                                <!-- <div class="blog-box row">
                                    <div class="col-md-4">
                                        <div class="post-media">
                                            <a href="garden-single.html" title="">
                                                <img src="upload/garden_sq_02.jpg" alt="" class="img-fluid">
                                                <div class="hovereffect"></div>
                                            </a>
                                        </div> 
                                    </div> 
                                    <div class="blog-meta big-meta col-md-8">
                                        <span class="bg-aqua"><a href="garden-category.html" title="">Indoor</a></span>
                                        <h4><a href="garden-single.html" title="">How do you like the idea of creating a garden from the Amazon forests?</a></h4>
                                        <p>Aenean interdum arcu blandit, vehicula magna non, placerat elit. Mauris et pharetratortor. Suspendissea sodales urna. In at augue elit. Vivamus enim nibh, maximus ac felis nec, maximus tempor odio.</p>
                                        <small><a href="garden-category.html" title=""><i class="fa fa-eye"></i> 4441</a></small>
                                        <small><a href="garden-single.html" title="">10 July, 2017</a></small>
                                        <small><a href="#" title="">by Matilda</a></small>
                                    </div> 
                                </div>  -->

                                <hr class="invis">


                                <div class="modal fade" id="modalContactForm" tabindex="-1" role="dialog"
                                    aria-labelledby="myModalLabel" aria-hidden="true">
                                    <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header text-center">
                                                <h4 class="modal-title w-100 font-weight-bold">Write to us</h4>
                                                <button type="button" class="close" data-dismiss="modal"
                                                    aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <form action="">
                                                <div class="modal-body mx-3">
                                                    <div class="md-form mb-5">
                                                        <i class=" fa fa-user prefix grey-text"></i>
                                                        <input type="text" id="title" class="form-control validate">
                                                        <span style="display: none;" id="id"></span>
                                                        <label data-error="wrong" data-success="right"
                                                            for="title">title</label>
                                                    </div>

                                                    <!-- <div class="md-form mb-5">
                                          <i class=" fa fa-envelope prefix grey-text"></i>
                                          <input type="email" id="form29" class="form-control validate">
                                          <label data-error="wrong" data-success="right" for="form29">Your email</label>
                                        </div> -->

                                                    <div class="md-form mb-5">
                                                        <i class=" fa fa-tag prefix grey-text"></i>
                                                        <input type="text" id="tags" class="form-control validate">
                                                        <label data-error="wrong" data-success="right"
                                                            for="tags">Subject</label>
                                                    </div>

                                                    <div class="md-form">
                                                        <i class=" fa fa-pencil prefix grey-text"></i>
                                                        <textarea type="text" id="body" class="md-textarea form-control"
                                                            rows="4"></textarea>
                                                        <label data-error="wrong" data-success="right"
                                                            for="body">body</label>
                                                    </div>

                                                    <div class="md-form">
                                                       
                                                        <label data-error="wrong" data-success="right"
                                                            for="image">image</label>
                                                                <input type="file"  name="image" id="image">
                                                    </div>
                                                </div>
                                                <div class="modal-footer d-flex justify-content-center">
                                                    <button class="btn btn-primary" type="submit" onclick="updateData()"
                                                        data-dismiss="modal">update</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>

 




                            </div><!-- end blog-list -->
                        </div><!-- end page-wrapper -->

                        <hr class="invis">

                        <div class="row">
                            <div class="col-md-12">
                                <nav aria-label="Page navigation">
                                    <ul class="pagination justify-content-start">
                                        <li class="page-item"><a class="page-link" href="#">1</a></li>
                                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                                        <li class="page-item"><a class="page-link" href="#">3</a></li>
                                        <li class="page-item">
                                            <a class="page-link" href="#">Next</a>
                                        </li>
                                    </ul>
                                </nav>
                            </div><!-- end col -->
                        </div><!-- end row -->
                    </div><!-- end col -->

                    <div class="col-lg-3 col-md-12 col-sm-12 col-xs-12">
                        <div class="sidebar">
                            <div class="widget">
                                <a href="/blog/blogform" class="widget-title  "><i class="fa-solid fa-plus fa-lg" style="color: #34bf49;"></i><i class="px-2   fa-brands fa-blogger-b fa-lg" style="color: #34bf49;"></i></a>
                                <form class="form-inline search-form">
                                    <div class="form-group">
                                        <input type="text" class="form-control" placeholder="Search on the site">
                                    </div>
                                    <button type="submit" class="btn btn-primary"><i class="fa fa-search"></i></button>
                                </form>
                            </div><!-- end widget -->

                            <div class="widget">
                                <h2 class="widget-title">Recent Posts</h2>
                                <div class="blog-list-widget">
                                    <div class="list-group">
                                        <a href="garden-single.html"
                                            class="list-group-item list-group-item-action flex-column align-items-start">
                                            <div class="w-100 justify-content-between">
                                                <img src="../statics/upload/garden_sq_09.jpg" alt=""
                                                    class="img-fluid float-left">
                                                <h5 class="mb-1">5 Beautiful buildings you need to before dying</h5>
                                                <small>12 Jan, 2016</small>
                                            </div>
                                        </a>

                                        <a href="garden-single.html"
                                            class="list-group-item list-group-item-action flex-column align-items-start">
                                            <div class="w-100 justify-content-between">
                                                <img src="upload/garden_sq_06.jpg" alt="" class="img-fluid float-left">
                                                <h5 class="mb-1">Let's make an introduction for creative life</h5>
                                                <small>11 Jan, 2016</small>
                                            </div>
                                        </a>

                                        <a href="garden-single.html"
                                            class="list-group-item list-group-item-action flex-column align-items-start">
                                            <div class="w-100 last-item justify-content-between">
                                                <img src="upload/garden_sq_02.jpg" alt="" class="img-fluid float-left">
                                                <h5 class="mb-1">Did you see the most beautiful sea in the world?</h5>
                                                <small>07 Jan, 2016</small>
                                            </div>
                                        </a>
                                    </div>
                                </div><!-- end blog-list -->
                            </div><!-- end widget -->

                            <div class="widget">
                                <h2 class="widget-title">Advertising</h2>
                                <div class="banner-spot clearfix">
                                    <div class="banner-img">
                                        <img src="upload/banner_04.jpg" alt="" class="img-fluid">
                                    </div><!-- end banner-img -->
                                </div><!-- end banner -->
                            </div><!-- end widget -->




                            <div class="modal-footer d-flex justify-content-center">
                                <button class="btn btn-unique">Send <i class="fas fa-paper-plane-o ml-1"></i></button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="widget">
                    <h2 class="widget-title">Instagram Feed</h2>
                    <div class="instagram-wrapper clearfix">
                        <a href="#"><img src="upload/garden_sq_01.jpg" alt="" class="img-fluid"></a>
                        <a href="#"><img src="upload/garden_sq_02.jpg" alt="" class="img-fluid"></a>
                        <a href="#"><img src="upload/garden_sq_03.jpg" alt="" class="img-fluid"></a>
                        <a href="#"><img src="upload/garden_sq_04.jpg" alt="" class="img-fluid"></a>
                        <a href="#"><img src="upload/garden_sq_05.jpg" alt="" class="img-fluid"></a>
                        <a href="#"><img src="upload/garden_sq_06.jpg" alt="" class="img-fluid"></a>
                        <a href="#"><img src="upload/garden_sq_07.jpg" alt="" class="img-fluid"></a>
                        <a href="#"><img src="upload/garden_sq_08.jpg" alt="" class="img-fluid"></a>
                        <a href="#"><img src="upload/garden_sq_09.jpg" alt="" class="img-fluid"></a>
                    </div><!-- end Instagram wrapper -->
                </div><!-- end widget -->

                <div class="widget">
                    <h2 class="widget-title">Popular Categories</h2>
                    <div class="link-widget">
                        <ul>
                            <li><a href="#">Gardening <span>(21)</span></a></li>
                            <li><a href="#">Outdoor Living <span>(15)</span></a></li>
                            <li><a href="#">Indoor Living <span>(31)</span></a></li>
                            <li><a href="#">Shopping Guides <span>(22)</span></a></li>
                            <li><a href="#">Pool Design <span>(66)</span></a></li>
                        </ul>
                    </div><!-- end link-widget -->
                </div><!-- end widget -->
            </div><!-- end sidebar -->
    </div><!-- end col -->
    </div><!-- end row -->
    </div><!-- end container -->
    </section>

    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <div class="widget">
                        <div class="footer-text text-center">
                            <a href="index.html"><img src="images/version/garden-footer-logo.png" alt=""
                                    class="img-fluid"></a>
                            <p>Forest Time is a personal blog for handcrafted, cameramade photography content, fashion
                                styles from independent creatives around the world.</p>
                            <div class="social">
                                <a href="#" data-toggle="tooltip" data-placement="bottom" title="Facebook"><i
                                        class="fa fa-facebook"></i></a>
                                <a href="#" data-toggle="tooltip" data-placement="bottom" title="Twitter"><i
                                        class="fa fa-twitter"></i></a>
                                <a href="#" data-toggle="tooltip" data-placement="bottom" title="Instagram"><i
                                        class="fa fa-instagram"></i></a>
                                <a href="#" data-toggle="tooltip" data-placement="bottom" title="Google Plus"><i
                                        class="fa fa-google-plus"></i></a>
                                <a href="#" data-toggle="tooltip" data-placement="bottom" title="Pinterest"><i
                                        class="fa fa-pinterest"></i></a>
                            </div>

                            <hr class="invis">

                            <div class="newsletter-widget text-center">
                                <form class="form-inline">
                                    <input type="text" class="form-control" placeholder="Enter your email address">
                                    <button type="submit" class="btn btn-primary">Subscribe <i
                                            class="fa fa-envelope-open-o"></i></button>
                                </form>
                            </div><!-- end newsletter -->
                        </div><!-- end footer-text -->
                    </div><!-- end widget -->
                </div><!-- end col -->
            </div>
            <div class="row">
                <div class="col-md-12 text-center">
                    <br>
                    <br>
                    <div class="copyright">&copy; Forest Time. Design: <a href="http://html.design">HTML Design</a>.
                    </div>
                </div>
            </div>
        </div><!-- end container -->
    </footer><!-- end footer -->

    <div class="dmtop">Scroll to Top</div>

    </div><!-- end wrapper -->

    <!-- Core JavaScript
    ================================================== -->
    <!-- <img src="./js/loader.gif" alt=""> -->
    <script src="/js/jquery.min.js"></script>
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>

    <script src="/js/tether.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script src="/js/custom.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
    <script
        src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyAkADq7R0xf6ami9YirAM1N-yl7hdnYBhM "></script>
    <!-- MAP & CONTACT -->
    <script src="/js/garden-map.js"></script>
    <script>
        //  const token = req.cookies.token;
        // alert(token)/
        // console.log(token);

        fetch('http://localhost:3000/blog/authorblog').then(res => {
            res.json().then(data => {
                console.log(data);
                data.forEach(blog => {
                    console.log(data);
                    console.log(data);
                    document.getElementById('blogs').innerHTML += ` 
                    <div class="blog-box row">
                                    <div class="col-md-4">
                                        <div class="post-media">
                                            <a href="garden-single.html" title="">
                                                <img src="../uploads/${blog.image}" alt="" class="img-fluid">
                                                <div class="hovereffect"></div>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="blog-meta big-meta col-md-8">
                                        <span class="bg-aqua"><a href="garden-category.html" title="">${blog.tags}</a></span>
                                        <h4><a href="garden-single.html" title="">${blog.title}</a></h4>
                                        <p>${blog.body}</p>
                                        <small><a href="garden-category.html" title=""><i class="fa fa-eye"></i> 1887</a></small>
                                        <small><a href="garden-single.html" title="">11 July, 2017</a></small>
                                        <span><a href="garden-single.html" >${blog.authorName}</a></span>
           <span style="display: none;" id="id">${blog._id}</span>
           
           <div class="text-center">
            </div>
    <a class="  text-light btn-default btn-rounded mb-4" data-toggle="modal" data-target="#modalContactForm" onclick="getData('${blog._id}')" ><i class="fa-solid fa-pen-to-square fa-lg" style="color: #1d3153;"></i></a>
                                                           <a class="  "  onclick="delData('${blog._id}')" title=""><i class=" mx-4  my-3  fa-solid fa-trash-can fa-xl" style="color: #ea2e2e;"></i></a> 
                                    </div>
                                </div>
                                <hr class="invis">`
                });
            }).catch(err => {
                console.log(err);
                location.reload();

            })
        })


        function delData(id) {
            fetch(`http://localhost:3000/blog/delete/${id}`,
                {
                    method: 'delete'
                })
        }

        function getData(id) {
            fetch(`http://localhost:3000/blog/getdata/${id}`).then(res => {
                res.json().then(data => {
                    document.getElementById('title').value = data.title;
                    document.getElementById('body').value = data.body;
                    document.getElementById('tags').value = data.tags;
                    document.getElementById('id').innerHTML = data._id;
                })
            })
        }


        // function updateData() {
        //     let title = document.getElementById('title').value;
        //     let body = document.getElementById('body').value;
        //     let tags = document.getElementById('tags').value;
        //     let image  = document.getElementById('image').files[0];
        //     let id = document.getElementById('id').innerHTML
        //     console.log(id);
        //     fetch(`http://localhost:3000/blog/update/${id}`,
        //         {
        //             method: 'put',
        //             body: JSON.stringify({ title, body, tags, image }),
        //             headers: {
        //                 "Content-Type": "application/json",
        //                 // 'Content-Type': 'application/x-www-form-urlencoded',
        //             },
        //         }).then(res => {
        //             res.json().then(data => {
        //                 console.log(data);
        //                 location.reload();
        //             })
        //         })
        // }



        
// <!-- Updated updateData() function -->
function updateData() {
  let title = document.getElementById('title').value;
  let body = document.getElementById('body').value;
  let tags = document.getElementById('tags').value;
  let image = document.getElementById('image').files[0];
  let id = document.getElementById('id').innerHTML;

  let formData = new FormData();
  formData.append('title', title);
  formData.append('body', body);
  formData.append('tags', tags);
  if (image) {
    formData.append('image', image);
  }
  fetch(`http://localhost:3000/blog/update/${id}`, {
    method: 'put',
    body: formData,
  }).then(res => {
    res.json().then(data => {
      console.log(data);
      location.reload();
    })
  });
}



        function search(event) {
            event.preventDefault();

            const title = document.getElementById('seach').value;

            document.getElementById('blogs').innerHTML = '';

            fetch(`http://localhost:3000/blog/searchBlog/${title}`)
                .then(res => res.json())
                .then(data => {
                    data.forEach(blog => {
                        console.log(data);
                        document.getElementById('blogs').innerHTML += ` 
                    <div class="blog-box row">
                                    <div class="col-md-4">
                                        <div class="post-media">
                                            <a href="garden-single.html" title="">
                                                <img src="../uploads/${blog.image}" alt="" class="img-fluid">
                                                <div class="hovereffect"></div>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="blog-meta big-meta col-md-8">
                                        <span class="bg-aqua"><a href="garden-category.html" title="">${blog.tags}</a></span>
                                        <h4><a href="garden-single.html" title="">${blog.title}</a></h4>
                                        <p>${blog.body}</p>
                                        <small><a href="garden-category.html" title=""><i class="fa fa-eye"></i> 1887</a></small>
                                        <small><a href="garden-single.html" title="">11 July, 2017</a></small>
                                        <span><a href="garden-single.html" >${blog.authorName}</a></span>

           <span style="display: none;" id="id">${blog._id}</span>
           
           <div class="text-center">

</div>
                        
                                    </div>
                                </div>
                                <hr class="invis">`
                    });
                }).catch(err => {
                    console.log(err);
                })
        }

    </script>

</body>

</html>